name: Docker image generation

description: "empty"

inputs:
  artefact_name:
    required: false
    description: "artefact name reference"
  artefact_version:
    required: false
    description: "artefact version reference"

runs:
  using: "composite"
  steps:
    - uses: actions/download-artifact@v3
      with:
        name: ${{ inputs.artefact_name }}-${{ inputs.artefact_version }}
        path: ${GITHUB_ACTION_PATH}

    - name: Log in to Docker Hub
      uses: docker/login-action@v3
      with:
        username: ${{ secrets.DOCKER_USERNAME }}
        password: ${{ secrets.DOCKER_TOKEN }}

    - name: Push to Docker Hub
      uses: docker/build-push-action@v5
      with:
        context: ${GITHUB_ACTION_PATH}
        file: ./Dockerfile
        push: true
        tags: bettorleague/${{ inputs.artefact_name }}:${{ inputs.artefact_version }}